{"version":3,"file":"ngx-eagle-tag.mjs","sources":["../../../ngx-eagle/tag/tag.component.ts","../../../ngx-eagle/tag/tag.module.ts","../../../ngx-eagle/tag/ngx-eagle-tag.ts"],"sourcesContent":["import { NgIf, NgStyle } from '@angular/common';\r\nimport {\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  booleanAttribute,\r\n} from '@angular/core';\r\nimport { NgxMode } from './typings';\r\nimport { ColorConverter } from 'ngx-eagle/core/services';\r\nimport { ColorContrast } from 'ngx-eagle/core/types';\r\n\r\n@Component({\r\n  selector: 'ngx-tag',\r\n  template: `\r\n    <ng-content></ng-content>\r\n    <svg\r\n      class=\"ngx-tag-close\"\r\n      *ngIf=\"ngxMode === 'closeable'\"\r\n      (click)=\"closeTag($event)\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      height=\"14\"\r\n      viewBox=\"0 -960 960 960\"\r\n      width=\"14\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path\r\n        d=\"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z\"\r\n      />\r\n    </svg>\r\n  `,\r\n  host: {\r\n    class: 'ngx-tag',\r\n    '[class.ngx-tag-checkable]': `ngxMode === 'checkable'`,\r\n    '(click)': 'updateCheckedStatus()',\r\n  },\r\n  standalone: true,\r\n  imports: [NgStyle, NgIf],\r\n})\r\nexport class TagComponent implements OnInit, OnChanges {\r\n  @Input({ transform: booleanAttribute }) ngxBordered: boolean = true;\r\n  @Input() ngxColor!: ColorContrast | string;\r\n  @Input({ transform: booleanAttribute }) ngxChecked: boolean = false;\r\n  @Input() ngxMode: NgxMode = 'default';\r\n\r\n  @Output() readonly ngxOnClose = new EventEmitter<MouseEvent>();\r\n  @Output() readonly ngxCheckedChange = new EventEmitter<boolean>();\r\n\r\n  backgroundColor: string = '#1890FF';\r\n  color: string = '#ffffff';\r\n\r\n  constructor(\r\n    private renderer: Renderer2,\r\n    private elementRef: ElementRef,\r\n    private colorConverter: ColorConverter\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.setTagColor();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.hasOwnProperty('ngxColor')) {\r\n      const newColor = changes['ngxColor'].currentValue;\r\n      if (typeof newColor === 'string') {\r\n        const { backgroundColor, overlayColor } =\r\n          this.colorConverter.contrastingColors(newColor);\r\n        this.backgroundColor = backgroundColor;\r\n        this.color = overlayColor;\r\n        this.setTagColor();\r\n      }\r\n      if (typeof newColor === 'object') {\r\n        this.backgroundColor = newColor.backgroundColor;\r\n        this.color = newColor.overlayColor;\r\n        this.setTagColor();\r\n      }\r\n    }\r\n  }\r\n\r\n  updateCheckedStatus(): void {\r\n    if (this.ngxMode === 'checkable') {\r\n      this.ngxChecked = !this.ngxChecked;\r\n      this.setTagColor();\r\n      this.ngxCheckedChange.emit(this.ngxChecked);\r\n    }\r\n  }\r\n\r\n  setTagColor() {\r\n    let bgColor = '';\r\n    let color = '';\r\n    let borderColor = '';\r\n    switch (this.ngxMode) {\r\n      case 'default':\r\n        bgColor = this.backgroundColor;\r\n        color = this.color;\r\n        break;\r\n      case 'checkable':\r\n        bgColor = this.ngxChecked ? this.backgroundColor : 'transparent';\r\n        color = this.ngxChecked ? this.color : 'currentColor';\r\n        break;\r\n      case 'closeable':\r\n        bgColor = this.backgroundColor;\r\n        color = this.color;\r\n        break;\r\n    }\r\n    borderColor = this.color === '#ffffff' ? 'currentColor' : this.color;\r\n    this.renderer.setStyle(\r\n      this.elementRef.nativeElement,\r\n      'background-color',\r\n      bgColor\r\n    );\r\n    this.renderer.setStyle(this.elementRef.nativeElement, 'color', color);\r\n    this.renderer.setStyle(\r\n      this.elementRef.nativeElement,\r\n      'border-color',\r\n      this.ngxBordered ? borderColor : 'transparent'\r\n    );\r\n  }\r\n\r\n  closeTag(e: MouseEvent): void {\r\n    this.ngxOnClose.emit(e);\r\n    if (!e.defaultPrevented) {\r\n      this.renderer.removeChild(\r\n        this.renderer.parentNode(this.elementRef.nativeElement),\r\n        this.elementRef.nativeElement\r\n      );\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { TagComponent } from './tag.component';\r\n\r\n@NgModule({\r\n  exports: [TagComponent],\r\n  imports: [TagComponent],\r\n})\r\nexport class TagModule {}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}